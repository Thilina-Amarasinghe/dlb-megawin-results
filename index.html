<!-- üéâ Ticket Result Modal -->
<div id="ticketModal">
  <div class="modal-content">
    <div class="modal-icon" id="modalIcon"></div>
    <div class="modal-title" id="modalTitle"></div>
    <div class="modal-ticket-number" id="modalTicketNumber"></div>
    <div class="modal-details" id="modalDetails"></div>
    <button id="closeModal">Close</button>
  </div>
</div>

<style>
  /* ================= Modal Base ================= */
  #ticketModal {
    display:none;
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    background: rgba(0,0,0,0.7);
    justify-content:center;
    align-items:center;
    z-index:1000;
    backdrop-filter: blur(5px);
  }
  .modal-content {
    background: #fff;
    border-radius:20px;
    padding:30px;
    text-align:center;
    max-width:500px;
    width:90%;
    animation: fadeIn 0.4s ease;
    box-shadow:0 20px 60px rgba(0,0,0,0.3);
  }
  .modal-icon { font-size:70px; margin-bottom:15px; }
  .modal-title { font-size:26px; font-weight:700; margin-bottom:15px; }
  .modal-ticket-number {
    font-size:32px; font-weight:800;
    padding:12px 20px;
    border-radius:12px;
    margin:15px 0;
    display:inline-block;
  }
  .modal-details { margin:20px 0; }
  .modal-rank { font-size:22px; font-weight:700; }
  .modal-prize { font-size:28px; font-weight:800; margin:10px 0; }
  .modal-city { font-size:18px; color:#374151; margin-top:8px; }
  #closeModal {
    padding:12px 30px;
    border:none; border-radius:10px;
    background:#333; color:#fff;
    cursor:pointer; font-size:16px;
    transition:0.3s;
  }
  #closeModal:hover { transform:scale(1.05); }

  /* ================= Themes ================= */
  .winner-modal .modal-content {
    background: linear-gradient(135deg, #fef7cd, #fcd34d, #fff);
    border:4px solid #fbbf24;
  }
  .winner-modal .modal-ticket-number {
    background: linear-gradient(135deg, #dc2626, #fbbf24);
    color:#fff;
    animation: pulse 1.5s infinite;
  }
  .winner-modal .modal-prize {
    background: linear-gradient(45deg, #dc2626, #fbbf24);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }

  .consolation-modal .modal-content {
    background: linear-gradient(135deg, #ecfdf5, #10b981, #fff);
    border:4px solid #10b981;
  }
  .consolation-modal .modal-ticket-number {
    background: linear-gradient(135deg, #059669, #10b981);
    color:#fff;
  }
  .consolation-modal .modal-prize {
    background: linear-gradient(45deg, #059669, #10b981);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
  }

  .no-win-modal .modal-content {
    background: linear-gradient(135deg, #fef2f2, #ef4444, #fff);
    border:4px solid #ef4444;
  }
  .no-win-modal .modal-ticket-number {
    background:#6b7280;
    color:#fff;
  }

  @keyframes fadeIn { from{opacity:0; transform:scale(0.9);} to{opacity:1; transform:scale(1);} }
  @keyframes pulse { 0%{transform:scale(1);} 50%{transform:scale(1.05);} 100%{transform:scale(1);} }
</style>

<script>
  const winnerData = {
    '1000001': { rank: '1st Prize', prize: '200,000 LKR', city: 'Colombo', icon: 'üëë' },
    '1000002': { rank: '2nd Prize', prize: '100,000 LKR', city: 'Galle', icon: 'ü•à' },
    '1000003': { rank: '3rd Prize', prize: '75,000 LKR', city: 'Kurunegala', icon: 'ü•â' },
    '1000004': { rank: '4th Prize', prize: '50,000 LKR', city: 'Jaffna', icon: 'üèÜ' },
    '1000005': { rank: '5th Prize', prize: '25,000 LKR', city: 'Anuradhapura', icon: 'üèÜ' }
  };
  const consolationData = {
    '304050': { city: 'Kandy' },
    '202020': { city: 'Matara' },
    '303030': { city: 'Negombo' },
    '404040': { city: 'Trinco' },
    '505050': { city: 'Ratnapura' },
    '606060': { city: 'Gampaha' },
    '707070': { city: 'Badulla' },
    '808080': { city: 'Monaragala' },
    '909090': { city: 'Polonnaruwa' },
    '902233': { city: 'Hambantota' }
  };

  function checkTicket(ticket) {
    const modal = document.getElementById('ticketModal');
    const icon = document.getElementById('modalIcon');
    const title = document.getElementById('modalTitle');
    const number = document.getElementById('modalTicketNumber');
    const details = document.getElementById('modalDetails');

    modal.className = ''; // reset
    number.textContent = ticket;

    if (winnerData[ticket]) {
      modal.classList.add('winner-modal');
      const d = winnerData[ticket];
      icon.textContent = d.icon;
      title.innerHTML = "üéâ Congratulations!";
      details.innerHTML = `
        <div class="modal-rank">${d.rank}</div>
        <div class="modal-prize">${d.prize}</div>
        <div class="modal-city">üìç ${d.city}</div>
      `;
    } else if (consolationData[ticket]) {
      modal.classList.add('consolation-modal');
      const d = consolationData[ticket];
      icon.textContent = "üéÅ";
      title.innerHTML = "üëè Well Done!";
      details.innerHTML = `
        <div class="modal-rank">Consolation Prize</div>
        <div class="modal-prize">10,000 LKR</div>
        <div class="modal-city">üìç ${d.city}</div>
      `;
    } else {
      modal.classList.add('no-win-modal');
      icon.textContent = "‚ùå";
      title.innerHTML = "Not a Winning Ticket";
      details.innerHTML = `<div class="modal-rank">Better luck next time!</div>`;
    }

    modal.style.display = 'flex';
  }

  document.getElementById('closeModal').onclick = () => {
    document.getElementById('ticketModal').style.display = 'none';
  };
</script>
